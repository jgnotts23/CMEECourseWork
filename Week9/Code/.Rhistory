#!/usr/bin/Rscript
# Author - Jacob Griffiths, jacob.griffiths18@imperial.ac.uk
# Date - Nov 2018
rm(list=ls())
graphics.off()
#1 - measure species richness based on input vector
species_richness <- function(community){
return(length(unique(community)))
}
#2 - function to define max possible species in community
initialise_max <- function(size){
return(seq(1:size))
}
#3 - Monodominance
initialise_min <- function(size){
x <- rep(1, each=size)
return(x)
}
#4 - Generating two random integers
choose_two <- function(x){
sample(1:x, 2, replace=F)
}
#5 - single step of neutral model sim
neutral_step <- function(y){
x <- choose_two(length(y))
new <- replace(y, x[1], y[x[2]])
return(new)
}
#6 - several steps
neutral_generation <- function(a){
gentime <- ceiling(sum(y)/2)
for i in (1:gentime){
a <- neutral_step(a)
}
return(a)
}
neutral_generation <- function(a){
gentime <- ceiling(sum(y)/2)
for (i in (1:gentime)){
a <- neutral_step(a)
}
return(a)
}
?replace
y = c(1,3)
x = y
y = c(10,5,13)
replace(y, x[1], 10000)
replace(y, x[1], 10000)
replace(y, x[2], 10000)
replace(y, x[2], 10000)
replace(y, 1, 10000)
replace(y, 2, 10000)
replace(y, 3, 10000)
replace(y, x[1], y[x[2]])
replace(y, x[1], y[x[2]])
replace(y, x[1], y[x[2]])
replace(y, x[1], y[x[2]])
replace(y, x[1], y[x[2]])
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
choose_two(length(y))
neutral_generation <- function(a){
gentime <- ceiling(sum(y)/2)
for (i in (1:gentime)){
a <- neutral_step(a)
}
return(a)
}
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
neutral_generation(c(10,5,13))
counter = 0
for (i in seq(1,1000000)){
x = c(10,5,13)
for j in seq(1,15){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
counter = 0
for (i in seq(1,1000000)){
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
counter = 0
for (i in seq(1,1000000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
counter = 0
for (i in seq(1,100000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
source('~/.active-rstudio-document', echo=TRUE)
counter = 0
for (i in seq(1,10000)){
if (i %% 1000 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
counter = 0
for (i in seq(1,100000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
neutral_generation <- function(a){
gentime <- ceiling(sum(y)/2)
for (i in (1:gentime)){
a <- neutral_step(a)
}
return(a)
}
neutral_generation <- function(a){
gentime <- ceiling(sum(a)/2)
for (i in (1:gentime)){
a <- neutral_step(a)
}
return(a)
}
counter = 0
for (i in seq(1,100000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
counter = 0
for (i in seq(1,10000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (unique(x) != 1){
counter = counter + 1
}
}
unique(x)
counter = 0
for (i in seq(1,10000)){
if (i %% 100 == 0){
print(i)
}
x = c(10,5,13)
for (j in seq(1,15)){
x = neutral_generation(x)
}
if (length(unique(x)) != 1){
counter = counter + 1
}
}
setwd("~/Documents/CMEECourseWork/Week9/Code")
load("my_test_file_1.rda")
View(abundance)
View(abundance)
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=10, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
load("my_test_file_1.rda")
View(abundance)
View(input_params)
View(abundance)
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
load("my_test_file_1.rda")
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
load("my_test_file_1.rda")
View(abundance)
View(input_params)
community
rich
abundance
test <- c(3,4,2)
mylist <- list()
mylist <- append(mylist, test)
mylist
mylist[[4]]=test
mylist
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
source("jsg18_cluster.R")
cluster_run(speciation_rate=0.1, size=100, wall_time=1, interval_rich=1, interval_oct=10, burn_in_generations=200, output_file_name="my_test_file_1.rda")
load("my_test_file_1.rda")
View(abundance)
